(function(t){function e(e){for(var o,r,s=e[0],i=e[1],u=e[2],d=0,p=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(c,r)&&c[r]&&p.push(c[r][0]),c[r]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);l&&l(e);while(p.length)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,s=1;s<n.length;s++){var i=n[s];0!==c[i]&&(o=!1)}o&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var o={},c={app:0},a=[];function r(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=i;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),c=(n("99af"),n("b680"),n("ac1f"),n("841c"),{class:"fw-bold"}),a=Object(o["g"])("Você digitou um total de "),r=Object(o["g"])("Dos quais, foram "),s=Object(o["g"])(" e "),i=Object(o["g"])("No total, você levou "),u=Object(o["g"])(" para digitar!"),l=Object(o["f"])("i",{class:"fa fa-arrow-left me-2"},null,-1),d=Object(o["g"])(" Voltar ao menu inicial "),p=[l,d],f={class:"bg-white d-flex justify-content-center align-items-center w-10"},b={key:1,class:"text-muted my-5 text-justify d-flex justify-content-center align-items-center flex-column"},m=Object(o["f"])("small",null,[Object(o["f"])("i",null,[Object(o["g"])("Pressione "),Object(o["f"])("b",null,"ESC"),Object(o["g"])(" para voltar")])],-1),h={key:2,class:"mx-5 row g-3 mb-5"},g={class:"col-12"},j={class:"card-body shadow border"},O={class:"text-muted"},x=Object(o["f"])("i",{class:"fas fa-feather-alt"},null,-1),y={class:"text-primary text-justify"},v=["onClick"],k=Object(o["f"])("i",{class:"fas fa-book me-2"},null,-1),T=Object(o["g"])(" Escrever "),w=[k,T],E={class:"mx-5 row counter"},W={class:"col card shadow"},C=Object(o["f"])("div",{class:"card-body row -sm mb-2","data-bs-toggle":"collapse","data-bs-target":"#collapse_info"},[Object(o["f"])("div",{class:"col d-flex justify-content-center align-items-center flex-column"},[Object(o["f"])("h3",{class:"text-muted mb-1"},"Configurações"),Object(o["f"])("small",{class:"text-muted"},"Clique para abrir/fechar")])],-1),I={class:"row collapse",id:"collapse_info",style:{"overflow-y":"auto","max-height":"300px"}},S={class:"col my-2"},A={class:"form-check form-switch"},q=Object(o["f"])("label",{class:"form-check-label",for:"checkAutoEnter"},"Enter automático",-1),N={class:"form-check form-switch"},M=Object(o["f"])("label",{class:"form-check-label",for:"checkAutoCaps"},"Capslock automático",-1),P={class:"form-check form-switch"},Q=Object(o["f"])("label",{class:"form-check-label",for:"checkAutoAccent"},"Pontuação automática",-1),D={class:"form-check form-switch"},R=Object(o["f"])("label",{class:"form-check-label",for:"checkBackSpace"},"Ignorar erros",-1);function _(t,e,n,l,d,k){var T=Object(o["n"])("TypingBox");return Object(o["j"])(),Object(o["e"])(o["a"],null,[Object(o["f"])("div",{class:"bg-primary bg-gradient text-light d-flex justify-content-center align-items-center flex-column",style:Object(o["i"])("transition: all 500ms ease-in-out; overflow:hidden; max-height:".concat("WRITTEN"==t.status?"300px;":"0px;","; padding:").concat("WRITTEN"==t.status?"5rem;":"0rem;"))},[Object(o["f"])("h2",c,Object(o["o"])(k.progress>=90?"Poema concluído!":"Você completou ".concat((k.progress/90*100).toFixed(),"% do poema!")),1),Object(o["f"])("h6",null,[a,Object(o["f"])("b",null,Object(o["o"])(t.text.corrects+t.text.wrongs)+" caracteres!",1)]),Object(o["f"])("h6",null,[r,Object(o["f"])("b",null,Object(o["o"])(t.text.corrects)+" corretos",1),s,Object(o["f"])("b",null,Object(o["o"])(t.text.wrongs)+" incorretos!",1)]),Object(o["f"])("h6",null,[i,Object(o["f"])("b",null,Object(o["o"])(k.timeSpentTreated)+" segundos",1),u]),Object(o["f"])("button",{class:"btn btn-outline-light mt-3",onClick:e[0]||(e[0]=function(){return k.stopWriting&&k.stopWriting.apply(k,arguments)})},p)],4),Object(o["f"])("div",{class:Object(o["h"])("bg-light text-primary d-flex justify-content-start align-items-stretch mb-5 ".concat("IDLE"!=t.status?"o-100":"o-0"))},[Object(o["f"])("div",{class:"bg-primary",style:Object(o["i"])("transition: width 125ms ease-in-out; width:".concat(k.progress,"%;"))},null,4),Object(o["f"])("span",f,Object(o["o"])("".concat(k.doneTotal," / ").concat(k.pendingTotal+k.doneTotal)),1)],2),"WRITTING"==t.status||"WRITTEN"==t.status?(Object(o["j"])(),Object(o["c"])(T,{key:0,lastWrong:t.text.lastWrong,done:t.text.done,pending:t.text.pending,class:"mt-5",ref:"typingBox"},null,8,["lastWrong","done","pending"])):Object(o["d"])("",!0),"WRITTING"==t.status?(Object(o["j"])(),Object(o["e"])("div",b,[Object(o["f"])("small",null,Object(o["o"])(k.timeSpentTreated),1),m])):Object(o["d"])("",!0),"IDLE"==t.status?(Object(o["j"])(),Object(o["e"])("div",h,[Object(o["f"])("div",g,[Object(o["r"])(Object(o["f"])("input",{class:"form-control border shadow",type:"text","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.search=e}),placeholder:"Pesquisar..."},null,512),[[o["q"],t.search]])]),(Object(o["j"])(!0),Object(o["e"])(o["a"],null,Object(o["m"])(k.filteredPoems,(function(t,e){return Object(o["j"])(),Object(o["e"])("div",{class:"col-sm-6 col-lg-4",key:"poem_".concat(e)},[Object(o["f"])("div",j,[Object(o["f"])("small",O,[x,Object(o["g"])(" "+Object(o["o"])(t.author)+", "+Object(o["o"])(t.text.reduce((function(t,e){return t+e.length}),0))+" letras ",1)]),Object(o["f"])("h5",y,Object(o["o"])(t.text.reduce((function(t,e){return t+(t.length?". ":"")+e}),"").substring(0,160))+"...",1),Object(o["f"])("button",{class:"btn btn-outline-primary w-100",onClick:function(t){return k.startWriting(e)}},w,8,v)])])})),128))])):Object(o["d"])("",!0),Object(o["f"])("div",E,[Object(o["f"])("div",W,[C,Object(o["f"])("div",I,[Object(o["f"])("div",S,[Object(o["f"])("div",A,[Object(o["r"])(Object(o["f"])("input",{class:"form-check-input",type:"checkbox",id:"checkAutoEnter","onUpdate:modelValue":e[2]||(e[2]=function(e){return t.autoEnter=e})},null,512),[[o["p"],t.autoEnter]]),q]),Object(o["f"])("div",N,[Object(o["r"])(Object(o["f"])("input",{class:"form-check-input",type:"checkbox",id:"checkAutoCaps","onUpdate:modelValue":e[3]||(e[3]=function(e){return t.autoCaps=e})},null,512),[[o["p"],t.autoCaps]]),M]),Object(o["f"])("div",P,[Object(o["r"])(Object(o["f"])("input",{class:"form-check-input",type:"checkbox",id:"checkAutoAccent","onUpdate:modelValue":e[4]||(e[4]=function(e){return t.autoAccent=e})},null,512),[[o["p"],t.autoAccent]]),Q]),Object(o["f"])("div",D,[Object(o["r"])(Object(o["f"])("input",{class:"form-check-input",type:"checkbox",id:"checkBackSpace","onUpdate:modelValue":e[5]||(e[5]=function(e){return t.autoBackSpace=e})},null,512),[[o["p"],t.autoBackSpace]]),R])])])])])],64)}n("4de4"),n("5319"),n("b64b"),n("caad"),n("2532"),n("fb6a");var B=function(t){return Object(o["l"])("data-v-17c46207"),t=t(),Object(o["k"])(),t},L={class:"mx-auto container d-flex justify-content-center align-items-center mb-5"},U={class:"text-justify d-flex justify-content-center aligns-item-center flex-column"},V={class:"text-primary"},z={key:0,class:"text-danger"},G=B((function(){return Object(o["f"])("small",{class:"blink"},[Object(o["f"])("i",{class:"fa fa-chevron-right text-muted"})],-1)}));function F(t,e,n,c,a,r){return Object(o["j"])(),Object(o["e"])("div",L,[Object(o["f"])("div",U,[(Object(o["j"])(!0),Object(o["e"])(o["a"],null,Object(o["m"])(r.donePrimary,(function(t,e){return Object(o["j"])(),Object(o["e"])("span",{class:"text-primary",key:"doneLine_".concat(e)},Object(o["o"])(t),1)})),128)),Object(o["f"])("span",null,[Object(o["f"])("span",V,Object(o["o"])(r.doneCurrent),1),n.lastWrong?(Object(o["j"])(),Object(o["e"])("span",z,Object(o["o"])(n.lastWrong),1)):Object(o["d"])("",!0),G,Object(o["g"])(Object(o["o"])(r.pendingCurrent),1)]),(Object(o["j"])(!0),Object(o["e"])(o["a"],null,Object(o["m"])(r.pendingMuted,(function(t,e){return Object(o["j"])(),Object(o["e"])("span",{class:"text-muted",key:"pendingLine_".concat(e)},Object(o["o"])(t),1)})),128))])])}var H={name:"TypingBox",props:{done:{type:Array},pending:{type:Array},lastWrong:{type:String}},computed:{donePrimary:function(){return this.done.slice(0,this.done.length-1)},doneCurrent:function(){return this.done[this.done.length-1]},pendingCurrent:function(){return this.pending[0]},pendingMuted:function(){return this.pending.slice(1,this.pending.length)}}},J=(n("7c6b"),n("d959")),K=n.n(J);const X=K()(H,[["render",F],["__scopeId","data-v-17c46207"]]);var Y=X,Z=n("bf6c"),$={name:"App",components:{TypingBox:Y},data:function(){return{poems:Z["a"],status:"IDLE",autoAccent:!1,autoCaps:!1,autoEnter:!1,autoBackSpace:!1,search:"",text:{timeInt:null,timeSpent:null,done:[""],doneChars:0,pending:[""],pendingChars:0,wrongs:0,lastWrong:"",corrects:0,history:[]},ignoreKeys:["CapsLock","Shift","Control","Backspace"],masonry:null}},computed:{filteredPoems:function(){var t=this;return this.poems.filter((function(e){return e.text.reduce((function(t,e){return t+e.toLowerCase()}),"").indexOf(t.search.toLowerCase())>=0}))},pendingTotal:function(){return this.text.pending.reduce((function(t,e){return t+e.length}),0)},doneTotal:function(){return this.text.done.reduce((function(t,e){return t+e.length}),0)},progress:function(){var t=this.pendingTotal,e=this.doneTotal,n=t+e;return(90*e/n).toFixed(0)},timeSpentTreated:function(){var t=Math.floor(this.text.timeSpent/1e3),e=((this.text.timeSpent-1e3*t)/10).toFixed(0);return(t<10?"0":"")+t+":"+(e<10?"0":"")+e}},methods:{startWriting:function(t){var e=this.filteredPoems[t].text;this.text.pending=Object.assign([],e),this.status="WRITTING","activeElement"in document&&document.activeElement.blur()},stopWriting:function(){var t=this;this.status="IDLE",setTimeout((function(){t.text.timeInt=null,t.text.timeSpent=null,t.text.done=[""],t.text.doneChars=0,t.text.pending=[""],t.text.pendingChars=0,t.text.wrongs=0,t.text.lastWrong="",t.text.corrects=0,t.text.history=[]}),500)},startTimer:function(){var t=this,e=performance.now();this.text.timeInt=setTimeout((function(){t.stepTimer(e)}),100)},stepTimer:function(t){var e=this,n=performance.now();this.text.timeSpent=n-t,"WRITTING"==this.status&&(this.text.timeInt=setTimeout((function(){e.stepTimer(t)}),100))},applyAutos:function(t,e){return t=this.autoCaps?t.toUpperCase():t,e=this.autoCaps?e.toUpperCase():e,t=this.autoAccent?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):t,e=this.autoAccent?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e,{correct:t,key:e}},apllyAutoEnter:function(){if(this.autoEnter){var t=this.text.pending[0].length>0?this.text.pending[0][0]:"Enter";while("Enter"==t){if(this.text.corrects+=1,this.text.pending[0]=this.text.pending[0].substring(1,this.text.pending[0].length),this.text.pending.shift(),this.text.done.push(""),!this.text.pending[0]&&0==Object.keys(this.text.pending).length)return this.status="WRITTEN";t=this.text.pending[0].length>0?this.text.pending[0][0]:"Enter"}}},updateHistory:function(t,e){this.text.history.push(t==e?1:-1)}},created:function(){var t=this;document.addEventListener("keydown",(function(e){var n=e.key;"Escape"==n&&("WRITTING"==t.status?t.status="WRITTEN":t.stopWriting()),"Backspace"==n&&(t.text.lastWrong=t.text.lastWrong.length>0?t.text.lastWrong.substring(0,t.text.lastWrong.length-1):"")})),document.addEventListener("keypress",(function(e){var n=e.key;if(!t.ignoreKeys.includes(n)&&"WRITTING"==t.status){if(e.preventDefault(),1==t.text.pending.length&&0==t.text.pending[0].length)return t.status="WRITTEN";var o=t.text.pending[0]?t.text.pending[0][0]:"Enter",c=t.applyAutos(o,n);if(o=c.correct,n=c.key,t.updateHistory(n,o),n==o&&""==t.text.lastWrong){t.text.corrects+=1,1==t.text.corrects&&t.startTimer(),t.text.pending[0]=t.text.pending[0].substring(1,t.text.pending[0].length),"Enter"==o?(console.log("\n\n\n"),console.log(t.text.pending),t.text.pending=t.text.pending.slice(1,t.text.pending.length),console.log(t.text.pending),t.text.done.push(""),t.text.history.push([])):t.text.done[t.text.done.length-1]+=o,t.apllyAutoEnter();var a=t.text.pending[0];if(!a&&0==Object.keys(t.text.pending).length)return t.status="WRITTEN"}else t.text.wrongs+=1,t.autoBackSpace||(t.text.lastWrong+=n)}}))}};n("fbf1");const tt=K()($,[["render",_]]);var et=tt;Object(o["b"])(et).mount("#app")},"76d3":function(t,e,n){},"7c6b":function(t,e,n){"use strict";n("76d3")},bf6c:function(t){t.exports=JSON.parse('{"a":[{"author":"Henry Van Dyke","text":["a","a","a"]},{"author":"Henry Van Dyke","text":["O tempo é muito lento para os que esperam","Muito rápido para os que têm medo","Muito longo para os que lamentam","Muito curto para os que festejam","Mas, para os que amam, o tempo é eterno."]},{"author":"Mario Quintana","text":["Na mesma pedra se encontram,","Conforme o povo traduz,","Quando se nasce - uma estrela,","Quando se morre - uma cruz.","Mas quantos que aqui repousam","Hão de emendar-nos assim:","Ponham-me a cruz no princípio...","E a luz da estrela no fim!"]},{"author":"Mario Quintana","text":["Quem sabe um dia","Quem sabe um seremos","Quem sabe um viveremos","Quem sabe um morreremos!","","Quem é que","Quem é macho","Quem é fêmea","Quem é humano, apenas!","","Sabe amar","Sabe de mim e de si","Sabe de nós","Sabe ser um!","","Um dia","Um mês","Um ano","Um(a) vida!"]},{"author":"Mario Quintana","text":["Eu, agora - que desfecho!","Já nem penso mais em ti...","Mas será que nunca deixo","De lembrar que te esqueci?"]},{"author":"Mario Quintana","text":["Se tu me amas, ama-me baixinho","Não o grites de cima dos telhados","Deixa em paz os passarinhos","Deixa em paz a mim!","Se me queres,","enfim,","tem de ser bem devagarinho, Amada,","que a vida é breve, e o amor mais breve ainda..."]}]}')},d6a3:function(t,e,n){},fbf1:function(t,e,n){"use strict";n("d6a3")}});
//# sourceMappingURL=app.482e591c.js.map